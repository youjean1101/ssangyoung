# 세션의 기본 개념과 실무 활용
1. session scope
	세션은 변수나 객체로 특정범위로 설정할 수 있다.
	1) page : 페이지 범위에서만 사용
	2) request : 요청 객체에서만 사용, 요청값이 전송되는 범위까지 유지
	3) session : 특정한 브라우저가 서버가 연결된 범위 안에서 유지
	4) application : 동일한 서버가 유지되는 범위 안에서 유지 가능
		ex) 재기동 등 서버를 다시 시작할 떄 사라진다.
2. 실무 적용 범위 : session 범위 처리가 일반적이다.
	1) 장바구니 사용 : DB처리하는 경우가 많아서 생략
	2) 로그인을 하지 않고 특정 페이지를 접근하면, 로그인 처리하세요 표시
		\a02_jsp\z01_sample\a01_login.jsp : 로그인
			로그인 후, a02_makeSession 이동 처리
			화면구현
				input name="id"
				input name="pass"
				
		\a02_jsp\z01_sample\a02_makeSession.jsp
			성공하면 세션 처리 후, a03_checkSession.jsp 이동
			실패하면 계속 로그인 처리 이동
				<c:choose>
					<c:when test="${param.id=='himan' && param.pass=='7777'}">
						<jsp:useBean id="mem" class="@@@.@@@.Member" scope="session" />
						${mem.setId(param.id)}${mem.setName('홍길동')}${mem.setAuth('admin')}
						<c:set var="isFail" value="N" />
					</c:when>
					<c:otherwise>
						<c:set var="isFail" value="Y" />
					</c:otherwise>
				</c:choose>
				<script>
					var isFail='${isFail}'
					if(isFail=='Y'){
						alert("로그인 실패\n로그인 페이지 이동")
						location.href="a01_login.jsp"
					}
					if(isFail=='N'){
						alert("로그인 성공\n메인페이지이동")
						location.href="a03_checkSession.jsp"
					}
				</script>
			
		\a02_jsp\z01_sample\a03_checkSession.jsp
			<script>
					var id = "${mem.id}" # session 있는지 여부를 확인
					if(id==""){
						alert("로그인을 하셔야 합니다.\n로그인페이지이동")
						location.href="a01_login.jsp"
					}
				<h2>로그인아이디:${mem.id}</h2>
				<h2>이름:${mem.name}</h2>
				<h2>권한:${mem.auth}</h2>
			</script>
			세션이 있으면 현재 페이지 유지
			세션이 없으면 로그인하여야 합니다. 하고 로그인 페이지로 이동
			
	3) 로그아웃으로 해당 세션이 사라지는 기능
		메인이나, 특정페이지에 로그아웃(버튼/이미지)
		==> js(로그아웃 하시겠습니까?) ==> login 페이지로 이동
		a03_checkSession.jsp
			<input type="button" value="로그아웃" onclick="logout()">
			js
			function logout(){
				if(confirm("로그아웃하시겠습니까?")){
					location.href="a01_login_DB.jsp"
				}
			}
		
		로그인페이지에서 세션을 삭제하고 시작
			특정 session : session.removeAttribute("mem")
				<c:remove var="mem" scope="session" />
				특정 session 변수 삭제 jstl
			session 전체 삭제 : session.invalidate()
			
			a01_login_DB.jsp
				<c:remove var="mem" scope="session" />
	4) 로그인 후, session 범위 안에 특정 메뉴 접근 가능
	5) 게시판에서 등록한 사용자만 해당 게시물을 수정/삭제 처리 가능 등..
	

	
	